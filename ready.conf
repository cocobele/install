declare -i N=0
declare -i D=0
root(){
if [ $EUID -ne 0 ]; then
   echo -e "\033[31mThis script must be run as root\033[0m" 1>&2
   exit 1
fi
}

disable_selinux(){
    if [ -s /etc/selinux/config ] && grep 'SELINUX=enforcing' /etc/selinux/config &>/dev/null;
    then
        if [-x /usr/sbin/setenforce];
        then
            /usr/sbin/setenforce 0
        fi
        sed -i  's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config
        echo -e "\033[32m disable selinux ok\033[0m"
    fi
}

stop_servers(){
    echo '############################### 停止不必要的服务'
    for server in ${ready_serversToStop[*]};do
        if  chkconfig --list |grep $server &>/dev/null; then
            NAME="$server"
            if chkconfig --level 2345 "$NAME" off &>/dev/null; then
                let N=6
                INFO
            else
                let N=7
                INFO
            fi
        else
             let N=8
             INFO
        fi
    done
    echo ""
}

DOWNLOAD () {
    echo  "############################获取安装源码"
    for i in ${ready_src_urls[*]};do
    NAME="${i##*/}"
       if [ -e "$ready_src_path$NAME" ];then
             let N=2
             let D++
             INFO
             let N=0
             continue
         else
             if wget -P "$ready_src_path" "$i" &>/dev/null ;then
                INFO
                let D++
            else
                let N=1
                INFO
                let N=0
             fi
       fi
    done
}

###屏蔽交互提示
mask_cross(){
    sed -i "s/alias/#alias/g" `grep alias -l /root/.bashrc`
    alias rm='rm'
    alias cp='cp'
    alias mv='mv'
}

## first install compile package
requirerpm () {
    for ready_package in ${ready_yum_list[*]};do
      NAME=$ready_package
      if ! rpm -q "$NAME" &>/dev/null ;then
        yum install -y "$i" &>/dev/null
           if [ $? -eq 0 ] ;then
              let N=3
              let D++
              INFO
           else
              let N=4
              INFO
              exit 7
           fi
      else
             let N=5
             let D++
             INFO
      fi
    done
}

INFO () {
    LENGTH=`stty -F /dev/console size | awk -F " " '{print $2}'`
    NEWLENG=$(($LENGTH-30))
    SPACE=$(($NEWLENG-${#NAME}))

    echo -n "$NAME"

    for n in `seq 1 ${SPACE}`;do
       echo -n " "
    done

    case $N in
        0) echo -e "\033[32m       DownLoad [ OK ]\033[0m"
           ;;
        1) echo -e "\033[31m       DownLoad [FIAL]\033[0m"
           ;;
        2) echo -e "\033[35m       FielExist[ OK ]\033[0m"
           ;;
        3) echo -e "\033[32m       Install  [ OK ]\033[0m "
           ;;
        4) echo -e "\033[31m       Install  [FIAL]\033[0m"
           ;;
        5) echo -e "\033[35m       Exist    [ OK ]\033[0m"
           ;;
        6) echo -e "\033[32m       STOP  [ OK ]\033[0m "
           ;;
        7) echo -e "\033[31m       STOP  [FIAL]\033[0m"
           ;;
        8) echo -e "\033[35m       Not Exist [ OK ]\033[0m"
    esac
}




